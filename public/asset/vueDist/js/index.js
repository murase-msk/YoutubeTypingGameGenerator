(function(t){function e(e){for(var i,r,u=e[0],s=e[1],h=e[2],c=0,y=[];c<u.length;c++)r=u[c],o[r]&&y.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);l&&l(e);while(y.length)y.shift()();return a.push.apply(a,h||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,u=1;u<n.length;u++){var s=n[u];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={index:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/asset/vueDist/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c1ff"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("94d6"),n("8915"),n("8a38");var i,o,a=n("8852"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("YoutubeMovie",{attrs:{videoId:t.videoId}})],1)},u=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"youtube-sec"},[n("youtube",{ref:"youtube",attrs:{videoId:t.videoId},on:{playing:t.playing}}),n("br"),n("button",{on:{click:t.startType}},[t._v("start")]),n("br"),n("span",[t._v(t._s(t.displayText))]),n("br"),n("span",{attrs:{id:"inputtedText"}},[t._v(t._s(t.inputtedText))]),n("span",{attrs:{id:"restText"}},[t._v(t._s(t.restText))]),n("br"),n("span",[t._v(t._s(t.inputRoman))]),n("br"),n("span")],1)},h=[],l=(n("46c2"),n("44ba"),{name:"HiraganaToRoman",data:function(){return{roman:{"あ":["a"],"い":["i","yi"],"う":["u","wu"],"え":["e"],"お":["o"],"か":["ka"],"き":["ki"],"く":["ku"],"け":["ke"],"こ":["ko"],"さ":["sa"],"し":["si"],"す":["su"],"せ":["se"],"そ":["so"],"た":["ta"],"ち":["ti","chi"],"つ":["tu","tsu"],"て":["te"],"と":["to"],"な":["na"],"に":["ni"],"ぬ":["nu"],"ね":["ne"],"の":["no"],"は":["ha"],"ひ":["hi"],"ふ":["hu","fu"],"へ":["he"],"ほ":["ho"],"ま":["ma"],"み":["mi"],"む":["mu"],"め":["me"],"も":["mo"],"や":["ya"],"ゆ":["yu"],"いぇ":["ye"],"よ":["yo"],"ら":["ra"],"り":["ri"],"る":["ru"],"れ":["re"],"ろ":["ro"],"わ":["wa"],"ゐ":["wyi"],"ゑ":["wye"],"を":["wo"],"ん":["nn","n"],"が":["ga"],"ぎ":["gi"],"ぐ":["gu"],"げ":["ge"],"ご":["go"],"ざ":["za"],"じ":["zi","ji"],"ず":["zu"],"ぜ":["ze"],"ぞ":["zo"],"だ":["da"],"ぢ":["di"],"づ":["du"],"で":["de"],"ど":["do"],"ば":["ba"],"び":["bi"],"ぶ":["bu"],"べ":["be"],"ぼ":["bo"],"ぱ":["pa"],"ぴ":["pi"],"ぷ":["pu"],"ぺ":["pe"],"ぽ":["po"],"きゃ":["kya"],"きゅ":["kyu"],"きょ":["kyo"],"しゃ":["sya"],"しゅ":["syu"],"しょ":["syo"],"ちゃ":["tya","cha"],"ちぃ":["tyi"],"ちゅ":["tyu","chu"],"ちぇ":["tye","che"],"ちょ":["tyo","cho"],"にゃ":["nya"],"にぃ":["nyi"],"にゅ":["nyu"],"にぇ":["nye"],"にょ":["nyo"],"ひゃ":["hya"],"ひぃ":["hyi"],"ひゅ":["hyu"],"ひぇ":["hye"],"ひょ":["hyo"],"みゃ":["mya"],"みぃ":["myi"],"みゅ":["myu"],"みぇ":["mye"],"みょ":["myo"],"りゃ":["rya"],"りぃ":["ryi"],"りゅ":["ryu"],"りぇ":["rye"],"りょ":["ryo"],"ぎゃ":["gya"],"ぎぃ":["gyi"],"ぎゅ":["gyu"],"ぎぇ":["gye"],"ぎょ":["gyo"],"じゃ":["jya","ja","zya"],"じぃ":["jyi","zyi"],"じゅ":["jyu","ju","zyu"],"じぇ":["jye","je","zye"],"じょ":["jyo","jo","zyo"],"ぢゃ":["dya"],"ぢぃ":["dyi"],"ぢゅ":["dyu"],"ぢぇ":["dye"],"ぢょ":["dyo"],"びゃ":["bya"],"びぃ":["byi"],"びゅ":["byu"],"びぇ":["bye"],"びょ":["byo"],"ぴゃ":["pya"],"ぴぃ":["pyi"],"ぴゅ":["pyu"],"ぴぇ":["pye"],"ぴょ":["pyo"],"ふぁ":["fa"],"ふぃ":["fi"],"ふぇ":["fe"],"ふぉ":["fo"],"ふゃ":["fya"],"ふゅ":["fyu"],"ふょ":["fyo"],"ぁ":["xa","la"],"ぃ":["xi","li"],"ぅ":["xu","lu"],"ぇ":["xe","le"],"ぉ":["xo","lo"],"ゃ":["xya","lya"],"ゅ":["xyu","lyu"],"ょ":["xyo","lyo"],"っ":["xtu","ltu","xtsu"],"うぃ":["wi"],"うぇ":["we"],"ヴぁ":["va"],"ヴぃ":["vi"],"ヴ":["vu"],"ヴぇ":["ve"],"ヴぉ":["vo"],"ー":["-"]}}}}),c=l,y=n("b0c5"),d=Object(y["a"])(c,i,o,!1,null,null,null);d.options.__file="HiraganaToRoman.vue";var p=d.exports,f=16,m={name:"YoutubeMovie",props:{videoId:String},data:function(){return{allPhraseData:"",displayText:"",inputText:"",inputtedKanaNum:0,inputtedText:"",restText:"",inputRoman:"",matchedChunk:"",romanChunkCandidate:[],finishFlg:!1,phraseEndFlg:!1,timer:0,movieTime:0,nextPhraseNo:0}},beforeMount:function(){window.addEventListener("keydown",this.onKeyDownEvent)},created:function(){console.log("created");var t="http://localhost:8081/getTypeText?videoId="+this.videoId;fetch(t).then(function(t){return t.json()}).then(function(t){this.allPhraseData=t,console.log(t)}.bind(this))},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDownEvent)},methods:{playVideo:function(){this.player.playVideo()},playing:function(){0===this.movieTime&&this.startingType()},startType:function(t){this.player.playVideo(),this.startingType(),console.log("start")},startingType:function(){var t=this,e=Date.now();e-this.timer>f&&(this.player.getCurrentTime().then(function(e){return t.movieTime=e}),this.allPhraseData.length>this.nextPhraseNo&&this.movieTime>this.allPhraseData[this.nextPhraseNo]["startTime"]&&(this.displayText=this.allPhraseData[this.nextPhraseNo]["text"],this.inputText=this.allPhraseData[this.nextPhraseNo]["Furigana"],this.inputtedKanaNum=0,this.inputtedText="",this.restText=this.inputText,this.inputRoman="",this.matchedChunk="",this.romanChunkCandidate=[],this.phraseEndFlg=!1,this.nextPhraseNo++),this.timer=e);requestAnimationFrame(this.startingType)},onKeyDownEvent:function(t){var e=this;this.finishFlg||(0===this.romanChunkCandidate.length&&(this.romanChunkCandidate=this.searchNextRomanChunkCandidate(this.restText)),console.log("候補"+this.romanChunkCandidate),this.romanChunkCandidate.forEach(function(n,i,o){if(-1!=n){var a=!1;n.forEach(function(n,o,r){!0!==a&&(console.log("input key   "+t.key),0===n.indexOf(e.matchedChunk+t.key)&&(e.inputRoman+=t.key,e.matchedChunk+=t.key,console.log("チャンク部分マッチ"),console.log(n.length+"  "+e.matchedChunk.length),n.length===e.matchedChunk.length&&(e.matchedChunk="",e.romanChunkCandidate=[],e.restText=e.restText.slice(i+1),e.inputtedKanaNum+=i+1,e.inputtedText=e.inputText.slice(0,e.inputtedKanaNum),e.phraseEndFlg=0===e.restText.length,a=!0)))})}}))},searchNextRomanChunkCandidate:function(t){var e=t.slice(0,1),n=t.slice(1,2),i=t.slice(2,3),o=this.convertHiraganaToRoman(e),a=this.convertHiraganaToRoman(e+n),r=this.convertHiraganaToRoman(e+n+i);if(this.isHankakuEisuuzi(e))return console.log("半角"),[[e]];if(1===t.length)return console.log("ひらがな1文字"),[o];if(this.isOOmozi(e)){if("ん"===e&&"な"===n)return[["nn"]];if(this.isOOmozi(n))return console.log("ひらがな2文字以上"),[o];if(this.isKomozi(n))return console.log("大文字＋小文字"),[o,a];console.log("大文字＋それ以外")}else if(this.isKomozi(e)){if(t.length>=3&&this.isOOmozi(n)&&this.isKomozi(i))return[o,a,r];if(this.isOOmozi(n))return[o,a];console.log("小文字+それ以外")}console.log("例外発生")},isHankakuEisuuzi:function(t){return!!t.match(/^[a-z0-9]/)},isHiragana:function(t){return!!t.match(/^[\u3041-\u3096|\u30FC]/)},isKomozi:function(t){return!(!this.isHiragana(t)||!t.match(/^[\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E]+$/))},isOOmozi:function(t){return this.isHiragana(t)&&!this.isKomozi(t)},convertHiraganaToRoman:function(t){var e=!1;"っ"===t.slice(0,1)&&(e=!0,t=1===t.length?t:t.slice(1));var n=p.data().roman;for(var i in n)if(i==t)return e&&"っ"!==t?n[i].map(function(t){return t.slice(0,1)+t}):n[i];return-1}},computed:{player:function(){return this.$refs.youtube.player}}},v=m,g=(n("9579"),Object(y["a"])(v,s,h,!1,null,"07893cc9",null));g.options.__file="YoutubeMovie.vue";var x=g.exports,b=n("2de7"),T=n.n(b);a["a"].use(T.a);var k={name:"app",components:{YoutubeMovie:x},data:function(){return{videoId:document.getElementsByName("videoId")[0].value}}},w=k,_=(n("034f"),Object(y["a"])(w,r,u,!1,null,null,null));_.options.__file="App.vue";var z=_.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(z)}}).$mount("#app")},"954a":function(t,e,n){},9579:function(t,e,n){"use strict";var i=n("954a"),o=n.n(i);o.a},c1ff:function(t,e,n){}});
//# sourceMappingURL=index.js.map