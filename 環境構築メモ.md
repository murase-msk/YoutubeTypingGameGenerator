# 環境構築メモ

## 環境構築方法
//環境変数を設定する  
//PostgreSQL用アカウント  
DB_user="xxxx"  
DB_pass="xxxx"  
//youtubeAPIのAPIkey  
youtubeApiKey="xxxx"  
//YahooAPIのAPIkey  
yahooApiKey="xxxx"  
// 本番環境or開発環境  
env="production" or "develop"  
// Githubからのフッキングを受け取るためのSecretKey.  
Github_Secret = "xxxx"

cd /var/www/html  
git clone https://github.com/murase-msk/YoutubeTypingGameGenerator.git  
./init.sh production   


sudo vim /etc/postgresql/9.5/main/postgresql.conf  
//listen_address=* にする設定


// ssl有効化.  
sudo a2enmod ssl   
service apache2 restart  
sudo vi /etc/apache2/sites-available/default-ssl.conf  
        ServerAdmin xxx@yyy.zzz <- 変更  
        ServerName xxx.yyy.zzz <- 追加  
        DocumentRoot /var/www/html/YoutubeTypingGameGenerator/public  
sudo a2ensite default-ssl  
service apache2 reload  
//Lets EncryptでSSL証明書取得  
sudo add-apt-repository ppa:certbot/certbot  
sudo apt-get update  
apt-get install letsencrypt python-letsencrypt-apache  
sudo letsencrypt run --apache  




## testing
cd ~  
./start_selenium.sh  
cd /var/www/html/YoutubeTypingGameGenerator  
composer test